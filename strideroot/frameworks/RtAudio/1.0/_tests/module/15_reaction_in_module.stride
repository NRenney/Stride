use DesktopAudio version 1.0

import Generators

module Test {
	ports: [
		port OutputPort {
			main: on
			direction: "output"
			block: Output
		}
		port InputPort {
			main: on
			direction: "input"
			block: Input
		}
	]
	blocks: [
		reaction InternalReaction {
			ports: [
				port OutputPort {
					main: on
					direction: "output"
					block: Output
				}
			]
			streams: [
				Value + 1 >> Output;
			]
		}
		signal Value { default: 0}	
	]
	streams: [
		[Input, 0] >> Greater() >> InternalReaction() >> Output;
	]
}

AudioIn[1] >> Test() >> AudioOut[1];
